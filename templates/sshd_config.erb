##########################
### ** Do Not Modify **
###
###    == Puppet ==
##########################

#	$OpenBSD: sshd_config,v 1.80 2008/07/02 02:24:18 djm Exp $

# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.

# This sshd was compiled with PATH=/usr/local/bin:/bin:/usr/bin

# The strategy used for options in the default sshd_config shipped with
# OpenSSH is to specify options with their default value where
# possible, but leave them commented.  Uncommented options change a
# default value.

Port <%= @port %>
AddressFamily <%= @addressFamily %>
ListenAddress <%= @listenAddress %>

# Disable legacy (protocol version 1) support in the server for new
# installations. In future the default will change to require explicit
# activation of protocol 1
Protocol 2

# HostKey for protocol version 1
#HostKey /etc/ssh/ssh_host_key
# HostKeys for protocol version 2
#HostKey /etc/ssh/ssh_host_rsa_key
#HostKey /etc/ssh/ssh_host_dsa_key

# Lifetime and size of ephemeral version 1 server key
#KeyRegenerationInterval 1h
#ServerKeyBits 1024

# Logging
# obsoletes QuietMode and FascistLogging
SyslogFacility <%= @syslogFacility %>
LogLevel INFO

# Authentication:

LoginGraceTime <%= @loginGraceTime %>
PermitRootLogin <%= @permitRootLogin %>
StrictModes <%= @strictModes %>
MaxAuthTries <%= @maxAuthTries %>
MaxSessions <%= @maxSessions %>

RSAAuthentication <%= @rSAAuthentication %>
PubkeyAuthentication <%= @pubkeyAuthentication %>
AuthorizedKeysFile	<%= @authorizedKeysFile %>
AuthorizedKeysCommand <%= @authorizedKeysCommand %>
AuthorizedKeysCommandRunAs <%= @authorizedKeysCommandRunAs %>

# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts
RhostsRSAAuthentication <%= @rhostsRSAAuthentication %>
# similar for protocol version 2
HostbasedAuthentication <%= @hostbasedAuthentication %>
# Change to yes if you don't trust ~/.ssh/known_hosts for
# RhostsRSAAuthentication and HostbasedAuthentication
IgnoreUserKnownHosts <%= @ignoreUserKnownHosts %>
# Don't read the user's ~/.rhosts and ~/.shosts files
IgnoreRhosts <%= @ignoreRhosts %>

# To disable tunneled clear text passwords, change to no here!
PasswordAuthentication <%= @passwordAuthentication %>
PermitEmptyPasswords <%= @permitEmptyPasswords %>

# Change to no to disable s/key passwords
ChallengeResponseAuthentication <%= @challengeResponseAuthentication %>

# Kerberos options
KerberosAuthentication <%= @kerberosAuthentication %>
KerberosOrLocalPasswd <%= @kerberosOrLocalPasswd %>
KerberosTicketCleanup <%= @kerberosTicketCleanup %>
KerberosUseKuserok <%= @kerberosUseKuserok %>

# GSSAPI options
GSSAPIAuthentication <%= @gSSAPIAuthentication %>
GSSAPICleanupCredentials <%= @gSSAPICleanupCredentials %>
GSSAPIStrictAcceptorCheck <%= @gSSAPIStrictAcceptorCheck %>
GSSAPIKeyExchange <%= @gSSAPIKeyExchange %>

# Set this to 'yes' to enable PAM authentication, account processing, 
# and session processing. If this is enabled, PAM authentication will 
# be allowed through the ChallengeResponseAuthentication and
# PasswordAuthentication.  Depending on your PAM configuration,
# PAM authentication via ChallengeResponseAuthentication may bypass
# the setting of "PermitRootLogin without-password".
# If you just want the PAM account and session checks to run without
# PAM authentication, then enable this but set PasswordAuthentication
# and ChallengeResponseAuthentication to 'no'.
UsePAM <%= @usePAM %>

# Accept locale-related environment variables
AcceptEnv <%= @acceptEnv %> 

AllowAgentForwarding <%= @allowAgentForwarding %>
AllowTcpForwarding <%= @allowTcpForwarding %>
GatewayPorts <%= @gatewayPorts %>
X11Forwarding <%= @x11Forwarding %>
X11DisplayOffset <%= @x11DisplayOffset %>
X11UseLocalhost <%= @x11UseLocalhost %>
PrintMotd <%= @printMotd %>
PrintLastLog <%= @printLastLog %>
TCPKeepAlive <%= @TCPKeepAlive %>
UseLogin <%= @useLogin %>
UsePrivilegeSeparation <%= @usePrivilegeSeparation %>
PermitUserEnvironment <%= @permitUserEnvironment %>
Compression <%= @compression %>
ClientAliveInterval <%= @clientAliveInterval %>
ClientAliveCountMax <%= @clientAliveCountMax %>
ShowPatchLevel <%= @showPatchLevel %>
UseDNS <%= @useDNS %>
PidFile <%= @pidFile %>
MaxStartups <%= @maxStartups %>
PermitTunnel <%= @permitTunnel %>
ChrootDirectory <%= @chrootDirectory %>

# no default banner path
Banner <%= @banner %>

# override default of no subsystems
Subsystem	sftp	/usr/libexec/openssh/sftp-server

# Example of overriding settings on a per-user basis
#Match User anoncvs
#	X11Forwarding no
#	AllowTcpForwarding no
#	ForceCommand cvs server
